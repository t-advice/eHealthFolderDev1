<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             x:Class="eHealthFolderDev.Views.Details.ProfileDetailsPage"
             Title="My Profile"
             BackgroundColor="White">
    
    <ScrollView>
        <VerticalStackLayout Padding="25" Spacing="20">
            
            <!-- Header -->
            <Label Text="My Profile" 
                   FontSize="28" 
                   FontAttributes="Bold"
                   HorizontalOptions="Center"
                   Margin="0,10,0,20"/>

            <!-- No Profile Layout -->
            <VerticalStackLayout IsVisible="{Binding HasProfile, Converter={StaticResource InvertedBoolConverter}}"
                                 Spacing="20"
                                 VerticalOptions="Center"
                                 Margin="0,50,0,0">
                <Label Text="No Profile Found" 
                       FontSize="20" 
                       FontAttributes="Bold"
                       HorizontalOptions="Center"
                       TextColor="Gray"/>
                <Label Text="Create your profile to get started" 
                       FontSize="16"
                       HorizontalOptions="Center"
                       TextColor="Gray"
                       HorizontalTextAlignment="Center"/>
                <Button Text="Create Profile"
                        Command="{Binding CreateProfileCommand}"
                        BackgroundColor="#4CAF50"
                        TextColor="White"
                        FontSize="16"
                        FontAttributes="Bold"
                        HeightRequest="50"
                        CornerRadius="10"
                        HorizontalOptions="Center"
                        WidthRequest="200"
                        Margin="0,20,0,0"/>
            </VerticalStackLayout>

            <!-- Profile Layout -->
            <VerticalStackLayout IsVisible="{Binding HasProfile}" Spacing="20">
                
                <!-- Profile Header Card -->
                <Frame Padding="20" 
                       BackgroundColor="#4CAF50" 
                       CornerRadius="15"
                       HasShadow="True">
                    <VerticalStackLayout Spacing="10">
                        <Label Text="{Binding FullName}"
                               FontSize="24"
                               FontAttributes="Bold"
                               TextColor="White"
                               HorizontalOptions="Center"/>
                        <Label Text="{Binding IDNumber}"
                               FontSize="16"
                               TextColor="White"
                               HorizontalOptions="Center"
                               Opacity="0.9"/>
                    </VerticalStackLayout>
                </Frame>

                <!-- Personal Information -->
                <Label Text="Personal Information" 
                       FontSize="18" 
                       FontAttributes="Bold"
                       TextColor="#4CAF50"/>
                
                <Frame Padding="15" 
                       BackgroundColor="#F5F5F5" 
                       BorderColor="#E0E0E0"
                       CornerRadius="10">
                    <VerticalStackLayout Spacing="15">
                        
                        <Grid ColumnDefinitions="Auto,*" RowDefinitions="Auto,Auto,Auto" ColumnSpacing="10" RowSpacing="10">
                            <Label Grid.Row="0" Grid.Column="0" Text="Gender:" FontAttributes="Bold" TextColor="Gray"/>
                            <Label Grid.Row="0" Grid.Column="1" Text="{Binding Gender}" FontSize="16"/>
                            
                            <Label Grid.Row="1" Grid.Column="0" Text="Age:" FontAttributes="Bold" TextColor="Gray"/>
                            <Label Grid.Row="1" Grid.Column="1" Text="{Binding Age}" FontSize="16"/>
                            
                            <Label Grid.Row="2" Grid.Column="0" Text="Date of Birth:" FontAttributes="Bold" TextColor="Gray"/>
                            <Label Grid.Row="2" Grid.Column="1" Text="{Binding DateOfBirth}" FontSize="16"/>
                        </Grid>

                    </VerticalStackLayout>
                </Frame>

                <!-- Contact Information -->
                <Label Text="Contact Information" 
                       FontSize="18" 
                       FontAttributes="Bold"
                       TextColor="#4CAF50"/>
                
                <Frame Padding="15" 
                       BackgroundColor="#F5F5F5" 
                       BorderColor="#E0E0E0"
                       CornerRadius="10">
                    <VerticalStackLayout Spacing="15">
                        
                        <VerticalStackLayout Spacing="5">
                            <Label Text="Email" FontAttributes="Bold" TextColor="Gray"/>
                            <Label Text="{Binding Email}" FontSize="16"/>
                        </VerticalStackLayout>

                        <BoxView HeightRequest="1" BackgroundColor="#E0E0E0"/>

                        <VerticalStackLayout Spacing="5">
                            <Label Text="Address" FontAttributes="Bold" TextColor="Gray"/>
                            <Label Text="{Binding Address}" FontSize="16"/>
                        </VerticalStackLayout>

                    </VerticalStackLayout>
                </Frame>

                <!-- Medical Information -->
                <Label Text="Medical Information" 
                       FontSize="18" 
                       FontAttributes="Bold"
                       TextColor="#4CAF50"/>
                
                <Frame Padding="15" 
                       BackgroundColor="#FFF3E0" 
                       BorderColor="#FFB74D"
                       CornerRadius="10">
                    <VerticalStackLayout Spacing="5">
                        <Label Text="Allergies" FontAttributes="Bold" TextColor="Gray"/>
                        <Label Text="{Binding Allergies}" FontSize="16"/>
                    </VerticalStackLayout>
                </Frame>

                <!-- Action Buttons -->
                <VerticalStackLayout Spacing="10" Margin="0,10,0,0">
                    <Button Text="Edit Profile"
                            Command="{Binding EditProfileCommand}"
                            BackgroundColor="#4CAF50"
                            TextColor="White"
                            FontSize="16"
                            FontAttributes="Bold"
                            HeightRequest="50"
                            CornerRadius="10"/>
                    
                    <Button Text="Back to Settings"
                            Command="{Binding BackCommand}"
                            BackgroundColor="#F5F5F5"
                            TextColor="#666666"
                            FontSize="16"
                            HeightRequest="50"
                            CornerRadius="10"
                            BorderColor="#CCCCCC"
                            BorderWidth="1"/>
                </VerticalStackLayout>

            </VerticalStackLayout>

        </VerticalStackLayout>
    </ScrollView>
</ContentPage>